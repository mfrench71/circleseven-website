(()=>{(function(){"use strict";let a={rootMargin:"200px",threshold:.01};function l(){let o=document.querySelectorAll(".post-card");if(o.length)if("IntersectionObserver"in window){let t=new IntersectionObserver(s,a);o.forEach(e=>{e.classList.add("lazy-card"),t.observe(e)})}else o.forEach(t=>{t.classList.add("lazy-card-loaded")})}function s(o,t){o.forEach(e=>{if(e.isIntersecting){let n=e.target;r(n),t.unobserve(n)}})}function r(o){o.classList.remove("lazy-card"),o.classList.add("lazy-card-loaded")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",l):l()})();(function(){"use strict";function a(){let s=document.querySelector(".post-content, .page-content");s&&l(s)}function l(s){let r=s.querySelectorAll('a[href*="/wp-content"], a[href*="site.baseurl"]'),o=s.querySelectorAll('img[src*="/wp-content"], img[src*="circleseven.co.uk"]');r.forEach(t=>{let e=t.getAttribute("href");e=e.replace(/\{\{\s*site\.baseurl\s*\}\}\/wp-content/,"https://www.circleseven.co.uk/wp-content"),e=e.replace(/\/circleseven-website\/wp-content/,"https://www.circleseven.co.uk/wp-content"),e.includes("/wp-content")&&!e.startsWith("http")&&(e="https://www.circleseven.co.uk"+e.replace(/^.*?(\/wp-content)/,"$1")),t.setAttribute("href",e)}),o.forEach(t=>{let e=t.getAttribute("src");e.includes("circleseven.co.uk")||(e=e.replace(/\{\{\s*site\.baseurl\s*\}\}\/wp-content/,"https://www.circleseven.co.uk/wp-content"),e=e.replace(/\/circleseven-website\/wp-content/,"https://www.circleseven.co.uk/wp-content"),e.includes("/wp-content")&&!e.startsWith("http")&&(e="https://www.circleseven.co.uk"+e.replace(/^.*?(\/wp-content)/,"$1")),t.setAttribute("src",e))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})();(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){a(),s()});function a(){document.querySelectorAll('iframe[src*="sketchfab.com"]').forEach(function(t){if(t.parentElement.classList.contains("sketchfab-embed"))return;let e=document.createElement("div");e.className="sketchfab-embed",t.parentNode.insertBefore(e,t),e.appendChild(t),t.removeAttribute("width"),t.removeAttribute("height")})}function l(){document.querySelectorAll(".wp-block-vimeo-create").forEach(function(t){let e=document.createElement("div");e.className="embed-container";let n=t.querySelector("iframe");n&&(t.parentNode.insertBefore(e,t),e.appendChild(n),t.remove())})}function s(){if(typeof L>"u")return;document.querySelectorAll(".leaflet-map").forEach(function(t,e){let n=parseFloat(t.getAttribute("data-lat")),c=parseFloat(t.getAttribute("data-lng")),i=parseInt(t.getAttribute("data-zoom"));if(!n||!c||!i)return;let d="leaflet-map-"+e;t.id=d,setTimeout(function(){r(d,n,c,i)},100)})}function r(o,t,e,n){let c=document.getElementById(o);if(c)try{let i=L.map(o).setView([t,e],n);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(i),L.marker([t,e]).addTo(i).bindPopup("Location").openPopup(),setTimeout(function(){i.invalidateSize()},100)}catch{c.innerHTML='<div class="wordpress-embed-placeholder">Map could not be loaded</div>'}}})();(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){a(),l(),r()});function a(){let t=document.querySelector(".mobile-menu-toggle"),e=document.querySelector(".mobile-drawer-overlay"),n=document.querySelector(".mobile-drawer"),c=document.querySelector(".mobile-drawer-close");if(!t||!e||!n)return;t.addEventListener("click",function(){t.classList.add("active"),e.classList.add("active"),n.classList.add("active"),document.body.style.overflow="hidden",s()});function i(){t.classList.remove("active"),e.classList.remove("active"),n.classList.remove("active"),document.body.style.overflow=""}c&&c.addEventListener("click",i),e.addEventListener("click",function(d){d.target===e&&i()}),document.addEventListener("keydown",function(d){d.key==="Escape"&&n.classList.contains("active")&&i()})}function l(){document.querySelectorAll(".has-dropdown").forEach(function(e){let n=e.querySelector(".nav-link");n&&n.addEventListener("click",function(c){"ontouchstart"in window&&(e.classList.contains("active")||(c.preventDefault(),document.querySelectorAll(".has-dropdown.active").forEach(function(i){i!==e&&i.classList.remove("active")}),e.classList.add("active")))})}),document.addEventListener("click",function(e){e.target.closest(".has-dropdown")||document.querySelectorAll(".has-dropdown.active").forEach(function(n){n.classList.remove("active")})})}function s(){document.querySelectorAll(".mobile-accordion-toggle").forEach(function(t){t.classList.remove("active"),t.nextElementSibling&&t.nextElementSibling.classList.remove("active")})}function r(){document.querySelectorAll(".mobile-accordion-toggle").forEach(function(e){e.addEventListener("click",function(){let n=this.nextElementSibling,c=this.classList.contains("active");document.querySelectorAll(".mobile-accordion-toggle").forEach(function(i){i.classList.remove("active"),i.nextElementSibling.classList.remove("active")}),c||(this.classList.add("active"),n.classList.add("active"))})})}let o;window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(function(){if(window.innerWidth>900){let t=document.querySelector(".mobile-menu-toggle"),e=document.querySelector(".mobile-drawer-overlay"),n=document.querySelector(".mobile-drawer");t&&t.classList.remove("active"),e&&e.classList.remove("active"),n&&n.classList.remove("active"),document.body.style.overflow=""}},250)})})();(function(){"use strict";function a(){if(typeof GLightbox>"u")return;document.querySelectorAll("figure a").forEach(t=>{let e=t.querySelector("img"),n=t.closest("figure").querySelector("iframe, video");e&&!n&&(t.classList.add("glightbox"),t.setAttribute("data-type","image"))}),l();let o=GLightbox({selector:".glightbox",touchNavigation:!0,loop:!0,closeOnOutsideClick:!0,keyboardNavigation:!0,skin:"clean",width:"95vw",height:"90vh",zoomable:!1,draggable:!1,onOpen:function(){document.body.classList.add("glightbox-open")},onClose:function(){document.body.classList.remove("glightbox-open")}})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a();function l(){let r=document.querySelectorAll(".gallery, .wp-block-gallery"),o=0;r.forEach(e=>{let n=e.querySelectorAll("figure a"),c=[];n.forEach(i=>{let d=i.querySelector("img"),u=i.closest("figure").querySelector("iframe, video");d&&!u&&c.push(i)}),c.length>0&&(c.forEach(i=>{i.setAttribute("data-gallery",`gallery-${o}`);let d=i.closest("figure");if(d){let u=d.querySelector("figcaption"),f=i.querySelector("img");u&&u.textContent.trim()?i.setAttribute("data-glightbox",`description: ${u.textContent.trim()}`):f&&f.alt&&i.setAttribute("data-glightbox",`description: ${f.alt}`)}}),o++)}),document.querySelectorAll(".post-content, .page-content, article").forEach(e=>{e.querySelectorAll("figure:not(.gallery figure):not(.wp-block-gallery figure) a").forEach(c=>{let i=c.querySelector("img"),d=c.closest("figure").querySelector("iframe, video");if(i&&!d){c.setAttribute("data-gallery",`standalone-${o}`);let u=c.closest("figure");if(u){let f=u.querySelector("figcaption"),m=c.querySelector("img");f&&f.textContent.trim()?c.setAttribute("data-glightbox",`description: ${f.textContent.trim()}`):m&&m.alt&&c.setAttribute("data-glightbox",`description: ${m.alt}`)}o++}})})}let s=new MutationObserver(function(r){r.forEach(function(o){o.addedNodes.length&&o.addedNodes.forEach(function(t){if(t.nodeType===1){let e=t.querySelectorAll?t.querySelectorAll("figure a"):[],n=[];e.forEach(c=>{let i=c.querySelector("img"),d=c.closest("figure").querySelector("iframe, video");i&&!d&&n.push(c)}),n.length>0&&(n.forEach(c=>{c.classList.add("glightbox")}),setTimeout(()=>{l(),a()},100))}})})});if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",function(){let r=document.querySelector(".post-grid, .post-content, .page-content");r&&s.observe(r,{childList:!0,subtree:!0})});else{let r=document.querySelector(".post-grid, .post-content, .page-content");r&&s.observe(r,{childList:!0,subtree:!0})}})();(function(){"use strict";let a=document.createElement("button");a.id="back-to-top",a.setAttribute("aria-label","Back to top"),a.setAttribute("title","Back to top"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>',document.body.appendChild(a);function l(){window.pageYOffset>300?a.classList.add("visible"):a.classList.remove("visible")}function s(r){r.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",l,{passive:!0}),a.addEventListener("click",s),l()})();(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre code").forEach(function(l){let s=l.parentElement;if(s.parentElement.classList.contains("code-block-wrapper"))return;let r=document.createElement("div");r.className="code-block-wrapper",s.parentNode.insertBefore(r,s),r.appendChild(s);let o=document.createElement("button");o.className="copy-code-button",o.textContent="Copy",o.setAttribute("aria-label","Copy code to clipboard"),o.addEventListener("click",function(){let t=l.textContent;navigator.clipboard.writeText(t).then(function(){o.textContent="Copied!",o.classList.add("copied"),setTimeout(function(){o.textContent="Copy",o.classList.remove("copied")},2e3)}).catch(function(e){o.textContent="Error",setTimeout(function(){o.textContent="Copy"},2e3)})}),r.appendChild(o)})})})();(function(){"use strict";function a(){document.querySelectorAll(".edit-post-link, .edit-card-link").forEach(t=>{t.style.display="none",t.classList.remove("edit-link-visible")})}a();function l(){if(localStorage.getItem("TEST_MODE")==="true"){s({email:"test@playwright.dev"});return}if(!window.netlifyIdentity)return;let o=netlifyIdentity.currentUser();s(o||null),netlifyIdentity.on("init",t=>{s(t)}),netlifyIdentity.on("login",t=>{s(t)}),netlifyIdentity.on("logout",()=>{s(null)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(l,100)}):setTimeout(l,100);function s(o){document.querySelectorAll(".edit-post-link, .edit-card-link").forEach(e=>{o?(e.style.display="",e.classList.add("edit-link-visible")):(e.style.display="none",e.classList.remove("edit-link-visible"))})}function r(o){let t=o.replace(/^\d{4}-\d{2}-\d{2}-/,"");return`/admin/#/collections/blog/entries/${o}`}window.getEditUrl=r})();})();
