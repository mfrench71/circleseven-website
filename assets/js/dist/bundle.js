(()=>{(function(){"use strict";let l={rootMargin:"200px",threshold:.01};function a(){let o=document.querySelectorAll(".post-card");if(o.length)if("IntersectionObserver"in window){let e=new IntersectionObserver(s,l);o.forEach(t=>{t.classList.add("lazy-card"),e.observe(t)})}else o.forEach(e=>{e.classList.add("lazy-card-loaded")})}function s(o,e){o.forEach(t=>{if(t.isIntersecting){let n=t.target;r(n),e.unobserve(n)}})}function r(o){o.classList.remove("lazy-card"),o.classList.add("lazy-card-loaded")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})();(function(){"use strict";function l(){let s=document.querySelector(".post-content, .page-content");s&&a(s)}function a(s){let r=s.querySelectorAll('a[href*="/wp-content"], a[href*="site.baseurl"]'),o=s.querySelectorAll('img[src*="/wp-content"], img[src*="circleseven.co.uk"]');r.forEach(e=>{let t=e.getAttribute("href");t=t.replace(/\{\{\s*site\.baseurl\s*\}\}\/wp-content/,"https://www.circleseven.co.uk/wp-content"),t=t.replace(/\/circleseven-website\/wp-content/,"https://www.circleseven.co.uk/wp-content"),t.includes("/wp-content")&&!t.startsWith("http")&&(t="https://www.circleseven.co.uk"+t.replace(/^.*?(\/wp-content)/,"$1")),e.setAttribute("href",t)}),o.forEach(e=>{let t=e.getAttribute("src");t.includes("circleseven.co.uk")||(t=t.replace(/\{\{\s*site\.baseurl\s*\}\}\/wp-content/,"https://www.circleseven.co.uk/wp-content"),t=t.replace(/\/circleseven-website\/wp-content/,"https://www.circleseven.co.uk/wp-content"),t.includes("/wp-content")&&!t.startsWith("http")&&(t="https://www.circleseven.co.uk"+t.replace(/^.*?(\/wp-content)/,"$1")),e.setAttribute("src",t))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",l):l()})();(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){l(),s()});function l(){document.querySelectorAll('iframe[src*="sketchfab.com"]').forEach(function(e){if(e.parentElement.classList.contains("sketchfab-embed"))return;let t=document.createElement("div");t.className="sketchfab-embed",e.parentNode.insertBefore(t,e),t.appendChild(e),e.removeAttribute("width"),e.removeAttribute("height")})}function a(){document.querySelectorAll(".wp-block-vimeo-create").forEach(function(e){let t=document.createElement("div");t.className="embed-container";let n=e.querySelector("iframe");n&&(e.parentNode.insertBefore(t,e),t.appendChild(n),e.remove())})}function s(){if(typeof L=="undefined")return;document.querySelectorAll(".leaflet-map").forEach(function(e,t){let n=parseFloat(e.getAttribute("data-lat")),c=parseFloat(e.getAttribute("data-lng")),i=parseInt(e.getAttribute("data-zoom"));if(!n||!c||!i)return;let d="leaflet-map-"+t;e.id=d,setTimeout(function(){r(d,n,c,i)},100)})}function r(o,e,t,n){let c=document.getElementById(o);if(c)try{let i=L.map(o).setView([e,t],n);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(i),L.marker([e,t]).addTo(i).bindPopup("Location").openPopup(),setTimeout(function(){i.invalidateSize()},100)}catch(i){c.innerHTML='<div class="wordpress-embed-placeholder">Map could not be loaded</div>'}}})();(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){l(),a(),r()});function l(){let e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".mobile-drawer-overlay"),n=document.querySelector(".mobile-drawer"),c=document.querySelector(".mobile-drawer-close");if(!e||!t||!n)return;e.addEventListener("click",function(){e.classList.add("active"),t.classList.add("active"),n.classList.add("active"),document.body.style.overflow="hidden",s()});function i(){e.classList.remove("active"),t.classList.remove("active"),n.classList.remove("active"),document.body.style.overflow=""}c&&c.addEventListener("click",i),t.addEventListener("click",function(d){d.target===t&&i()}),document.addEventListener("keydown",function(d){d.key==="Escape"&&n.classList.contains("active")&&i()})}function a(){document.querySelectorAll(".has-dropdown").forEach(function(t){let n=t.querySelector(".nav-link");n&&n.addEventListener("click",function(c){"ontouchstart"in window&&(t.classList.contains("active")||(c.preventDefault(),document.querySelectorAll(".has-dropdown.active").forEach(function(i){i!==t&&i.classList.remove("active")}),t.classList.add("active")))})}),document.addEventListener("click",function(t){t.target.closest(".has-dropdown")||document.querySelectorAll(".has-dropdown.active").forEach(function(n){n.classList.remove("active")})})}function s(){document.querySelectorAll(".mobile-accordion-toggle").forEach(function(e){e.classList.remove("active"),e.nextElementSibling&&e.nextElementSibling.classList.remove("active")})}function r(){document.querySelectorAll(".mobile-accordion-toggle").forEach(function(t){t.addEventListener("click",function(){let n=this.nextElementSibling,c=this.classList.contains("active");document.querySelectorAll(".mobile-accordion-toggle").forEach(function(i){i.classList.remove("active"),i.nextElementSibling.classList.remove("active")}),c||(this.classList.add("active"),n.classList.add("active"))})})}let o;window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(function(){if(window.innerWidth>900){let e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".mobile-drawer-overlay"),n=document.querySelector(".mobile-drawer");e&&e.classList.remove("active"),t&&t.classList.remove("active"),n&&n.classList.remove("active"),document.body.style.overflow=""}},250)})})();(function(){"use strict";function l(){if(typeof GLightbox=="undefined")return;document.querySelectorAll("figure a").forEach(e=>{let t=e.querySelector("img"),n=e.closest("figure").querySelector("iframe, video");t&&!n&&(e.classList.add("glightbox"),e.setAttribute("data-type","image"))}),a();let o=GLightbox({selector:".glightbox",touchNavigation:!0,loop:!0,closeOnOutsideClick:!0,keyboardNavigation:!0,skin:"clean",width:"95vw",height:"90vh",zoomable:!1,draggable:!1,onOpen:function(){document.body.classList.add("glightbox-open")},onClose:function(){document.body.classList.remove("glightbox-open")}})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",l):l();function a(){let r=document.querySelectorAll(".gallery, .wp-block-gallery"),o=0;r.forEach(t=>{let n=t.querySelectorAll("figure a"),c=[];n.forEach(i=>{let d=i.querySelector("img"),u=i.closest("figure").querySelector("iframe, video");d&&!u&&c.push(i)}),c.length>0&&(c.forEach(i=>{i.setAttribute("data-gallery",`gallery-${o}`);let d=i.closest("figure");if(d){let u=d.querySelector("figcaption"),f=i.querySelector("img");u&&u.textContent.trim()?i.setAttribute("data-glightbox",`description: ${u.textContent.trim()}`):f&&f.alt&&i.setAttribute("data-glightbox",`description: ${f.alt}`)}}),o++)}),document.querySelectorAll(".post-content, .page-content, article").forEach(t=>{t.querySelectorAll("figure:not(.gallery figure):not(.wp-block-gallery figure) a").forEach(c=>{let i=c.querySelector("img"),d=c.closest("figure").querySelector("iframe, video");if(i&&!d){c.setAttribute("data-gallery",`standalone-${o}`);let u=c.closest("figure");if(u){let f=u.querySelector("figcaption"),m=c.querySelector("img");f&&f.textContent.trim()?c.setAttribute("data-glightbox",`description: ${f.textContent.trim()}`):m&&m.alt&&c.setAttribute("data-glightbox",`description: ${m.alt}`)}o++}})})}let s=new MutationObserver(function(r){r.forEach(function(o){o.addedNodes.length&&o.addedNodes.forEach(function(e){if(e.nodeType===1){let t=e.querySelectorAll?e.querySelectorAll("figure a"):[],n=[];t.forEach(c=>{let i=c.querySelector("img"),d=c.closest("figure").querySelector("iframe, video");i&&!d&&n.push(c)}),n.length>0&&(n.forEach(c=>{c.classList.add("glightbox")}),setTimeout(()=>{a(),l()},100))}})})});if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",function(){let r=document.querySelector(".post-grid, .post-content, .page-content");r&&s.observe(r,{childList:!0,subtree:!0})});else{let r=document.querySelector(".post-grid, .post-content, .page-content");r&&s.observe(r,{childList:!0,subtree:!0})}})();(function(){"use strict";let l=document.createElement("button");l.id="back-to-top",l.setAttribute("aria-label","Back to top"),l.setAttribute("title","Back to top"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>',document.body.appendChild(l);function a(){window.pageYOffset>300?l.classList.add("visible"):l.classList.remove("visible")}function s(r){r.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",a,{passive:!0}),l.addEventListener("click",s),a()})();(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre code").forEach(function(a){let s=a.parentElement;if(s.parentElement.classList.contains("code-block-wrapper"))return;let r=document.createElement("div");r.className="code-block-wrapper",s.parentNode.insertBefore(r,s),r.appendChild(s);let o=document.createElement("button");o.className="copy-code-button",o.textContent="Copy",o.setAttribute("aria-label","Copy code to clipboard"),o.addEventListener("click",function(){let e=a.textContent;navigator.clipboard.writeText(e).then(function(){o.textContent="Copied!",o.classList.add("copied"),setTimeout(function(){o.textContent="Copy",o.classList.remove("copied")},2e3)}).catch(function(t){o.textContent="Error",setTimeout(function(){o.textContent="Copy"},2e3)})}),r.appendChild(o)})})})();(function(){"use strict";function l(){document.querySelectorAll(".edit-post-link, .edit-card-link").forEach(e=>{e.style.display="none",e.classList.remove("edit-link-visible")})}l();function a(){if(localStorage.getItem("TEST_MODE")==="true"){console.log("Edit links: Test mode enabled, showing edit links"),s({email:"test@playwright.dev"});return}if(!window.netlifyIdentity){console.warn("Netlify Identity not loaded");return}let o=netlifyIdentity.currentUser();o?(console.log("Edit links: User is logged in",o.email),s(o)):console.log("Edit links: No user logged in"),netlifyIdentity.on("init",e=>{console.log("Edit links: init event",e==null?void 0:e.email),s(e)}),netlifyIdentity.on("login",e=>{console.log("Edit links: login event",e==null?void 0:e.email),s(e)}),netlifyIdentity.on("logout",()=>{console.log("Edit links: logout event"),s(null)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(a,100)}):setTimeout(a,100);function s(o){let e=document.querySelectorAll(".edit-post-link, .edit-card-link");console.log(`Edit links: Found ${e.length} edit links, user: ${o?"logged in":"not logged in"}`),e.forEach(t=>{o?(t.style.display="",t.classList.add("edit-link-visible"),console.log("Edit links: Showing link",t.href)):(t.style.display="none",t.classList.remove("edit-link-visible"))})}function r(o){let e=o.replace(/^\d{4}-\d{2}-\d{2}-/,"");return`/admin/#/collections/blog/entries/${o}`}window.getEditUrl=r})();})();
